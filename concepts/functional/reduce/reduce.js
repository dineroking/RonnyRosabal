/**
 * Project: RonnyRosabal.
 * By: Ronny Rosabal
 * Date: 2/24/16
 * Time: 10:44 AM
 * Content:
 */

var data = [
  {
    "_id" : "56cddf43e02f1fcf856ab606",
    "index" : 0,
    "guid" : "5b1c4a19-1a47-4d0c-9fdb-db318bb8c21c",
    "isActive" : false,
    "balance" : "$1,619.99",
    "picture" : "http://placehold.it/32x32",
    "age" : 31,
    "eyeColor" : "blue",
    "name" : "Stewart Holder",
    "gender" : "male",
    "company" : "ECSTASIA",
    "email" : "stewartholder@ecstasia.com",
    "phone" : "+1 (915) 532-3196",
    "address" : "716 Tech Place, Hiseville, North Dakota, 200",
    "about" : "Adipisicing laborum amet mollit quis. Duis esse velit veniam ut excepteur fugiat nostrud minim anim sunt commodo eiusmod incididunt exercitation. Fugiat deserunt commodo culpa nulla veniam id non.\r\n",
    "registered" : "2014-09-15T05:07:07 +05:00",
    "latitude" : 2.494472,
    "longitude" : 129.996511,
    "tags" : [
      "duis",
      "voluptate",
      "dolor",
      "excepteur",
      "consequat",
      "cupidatat",
      "irure"
    ],
    "friends" : [
      {
        "id" : 0,
        "name" : "Barron Harris"
      },
      {
        "id" : 1,
        "name" : "Rae Tucker"
      },
      {
        "id" : 2,
        "name" : "Elnora Schneider"
      }
    ],
    "greeting" : "Hello, Stewart Holder! You have 2 unread messages.",
    "favoriteFruit" : "apple"
  },
  {
    "_id" : "56cddf43047df09a7c36957e",
    "index" : 1,
    "guid" : "c6b51929-f7a1-4bc9-a61a-00978efacf81",
    "isActive" : true,
    "balance" : "$1,418.03",
    "picture" : "http://placehold.it/32x32",
    "age" : 33,
    "eyeColor" : "blue",
    "name" : "Albert Armstrong",
    "gender" : "male",
    "company" : "RUBADUB",
    "email" : "albertarmstrong@rubadub.com",
    "phone" : "+1 (900) 513-3698",
    "address" : "748 Locust Avenue, Soudan, Indiana, 313",
    "about" : "Occaecat quis aute labore culpa exercitation magna. Et proident amet ea ad sit in laboris quis nostrud laborum do dolore magna. Fugiat ut velit esse ad aute voluptate veniam occaecat aute velit officia nisi in.\r\n",
    "registered" : "2015-05-09T01:12:21 +05:00",
    "latitude" : 28.597844,
    "longitude" : 105.404976,
    "tags" : [
      "ipsum",
      "voluptate",
      "ex",
      "magna",
      "mollit",
      "dolor",
      "occaecat"
    ],
    "friends" : [
      {
        "id" : 0,
        "name" : "Booker Lang"
      },
      {
        "id" : 1,
        "name" : "Harrington Sheppard"
      },
      {
        "id" : 2,
        "name" : "Etta Harding"
      }
    ],
    "greeting" : "Hello, Albert Armstrong! You have 8 unread messages.",
    "favoriteFruit" : "apple"
  },
  {
    "_id" : "56cddf43207d44518fee986c",
    "index" : 2,
    "guid" : "019c8ce4-d61c-4372-9b16-45fc9a52d539",
    "isActive" : true,
    "balance" : "$3,080.62",
    "picture" : "http://placehold.it/32x32",
    "age" : 39,
    "eyeColor" : "blue",
    "name" : "Hayes Fernandez",
    "gender" : "male",
    "company" : "XYQAG",
    "email" : "hayesfernandez@xyqag.com",
    "phone" : "+1 (963) 406-2691",
    "address" : "211 Lake Place, Ruckersville, Oregon, 8349",
    "about" : "Tempor dolore fugiat exercitation enim anim aliquip Lorem aliqua. Lorem cillum ullamco eu fugiat labore est consequat. Cillum incididunt do et laborum ex mollit id ex non. Adipisicing adipisicing magna elit nostrud ut adipisicing elit id fugiat culpa fugiat ea Lorem cillum. Minim duis culpa non tempor officia ea enim reprehenderit sunt sint anim fugiat adipisicing. Voluptate ea adipisicing amet ipsum duis sint consectetur adipisicing proident cupidatat quis duis ullamco. Do exercitation nisi officia labore cupidatat mollit.\r\n",
    "registered" : "2015-06-27T02:09:41 +05:00",
    "latitude" : -12.176376,
    "longitude" : -152.611076,
    "tags" : [
      "sint",
      "in",
      "elit",
      "culpa",
      "consequat",
      "qui",
      "aute"
    ],
    "friends" : [
      {
        "id" : 0,
        "name" : "Scott Ortega"
      },
      {
        "id" : 1,
        "name" : "Moses Holman"
      },
      {
        "id" : 2,
        "name" : "Sheena Hinton"
      }
    ],
    "greeting" : "Hello, Hayes Fernandez! You have 9 unread messages.",
    "favoriteFruit" : "apple"
  },
  {
    "_id" : "56cddf43eaf6667c304aecb5",
    "index" : 3,
    "guid" : "c98a4c6f-e7c7-4f8a-8d7b-4080fb9a0eef",
    "isActive" : false,
    "balance" : "$1,011.98",
    "picture" : "http://placehold.it/32x32",
    "age" : 20,
    "eyeColor" : "blue",
    "name" : "Beverly Norton",
    "gender" : "female",
    "company" : "SKINSERVE",
    "email" : "beverlynorton@skinserve.com",
    "phone" : "+1 (903) 509-2398",
    "address" : "599 Eagle Street, Gulf, Iowa, 5662",
    "about" : "Pariatur dolore proident incididunt pariatur minim esse eiusmod anim officia. Sint nostrud pariatur pariatur ut magna Lorem. Officia mollit Lorem duis culpa id do nulla officia veniam cillum occaecat duis. Cupidatat sit veniam nulla labore sit deserunt sunt id culpa officia minim.\r\n",
    "registered" : "2014-09-05T11:39:00 +05:00",
    "latitude" : -14.180368,
    "longitude" : -56.001427,
    "tags" : [
      "sunt",
      "labore",
      "fugiat",
      "laboris",
      "id",
      "minim",
      "ea"
    ],
    "friends" : [
      {
        "id" : 0,
        "name" : "Helena Mclaughlin"
      },
      {
        "id" : 1,
        "name" : "Aida Long"
      },
      {
        "id" : 2,
        "name" : "Knowles Kerr"
      }
    ],
    "greeting" : "Hello, Beverly Norton! You have 9 unread messages.",
    "favoriteFruit" : "banana"
  },
  {
    "_id" : "56cddf431dc03cc43d3e4656",
    "index" : 4,
    "guid" : "1e0e782d-6219-4a7b-addd-db2aaff2709c",
    "isActive" : true,
    "balance" : "$2,502.99",
    "picture" : "http://placehold.it/32x32",
    "age" : 40,
    "eyeColor" : "brown",
    "name" : "Bond Stein",
    "gender" : "male",
    "company" : "FURNITECH",
    "email" : "bondstein@furnitech.com",
    "phone" : "+1 (979) 598-2948",
    "address" : "723 Herkimer Place, Waterview, Washington, 8694",
    "about" : "Tempor amet cupidatat id sint adipisicing fugiat aliquip et eiusmod in. Tempor aliquip sint aute aute cupidatat. Mollit sit irure et et commodo quis exercitation minim adipisicing consectetur minim aliqua consectetur deserunt. Aliquip aute est veniam cillum mollit amet sint velit cillum in officia. Excepteur ea aute culpa ad non in in non voluptate minim cupidatat proident. Ad enim voluptate laboris culpa ad aute aliquip Lorem tempor est non adipisicing cillum. Do consectetur qui ullamco pariatur qui sunt exercitation excepteur Lorem eiusmod anim aute.\r\n",
    "registered" : "2015-01-10T06:16:38 +06:00",
    "latitude" : 87.6601,
    "longitude" : 1.542638,
    "tags" : [
      "dolore",
      "officia",
      "anim",
      "consequat",
      "deserunt",
      "cupidatat",
      "eiusmod"
    ],
    "friends" : [
      {
        "id" : 0,
        "name" : "Gonzales Weiss"
      },
      {
        "id" : 1,
        "name" : "Crosby Howe"
      },
      {
        "id" : 2,
        "name" : "Brianna Gonzales"
      }
    ],
    "greeting" : "Hello, Bond Stein! You have 6 unread messages.",
    "favoriteFruit" : "apple"
  }
];

/*var jsonFile = 'reduce.json';
 var jsonData = $.getJSON( jsonFile, function( data ){
 return data.responseJSON;
 });
 */
console.log( data );

/*reduce iterates through each value of the array and reduces all the values to a single value according to the callback*/

console.log( "J a v a S c r i p t  R e d u c e" );
console.log( "" );
console.log( "~~SIMPLE REDUCE~~" );

/*simple reduce taking only one value. This return only the first object in the array.*/
console.log( data.reduce( function( prev ){
  return prev;
} ) );

/*this also returns the first object in the array*/
console.log( data.reduce( function( prev, curr ){
  return prev;
} ) );

/*this returns the last object in the array because it iterated through all the objects*/
console.log( data.reduce( function( prev, curr ){
  return curr;
} ) );

/*also returns the last object in the array*/
console.log( data.reduce( function( prev, curr, index ){
  return curr;
} ) );

/*returns last index (4) in the array because it iterated through each of the objects*/
console.log( data.reduce( function( prev, curr, index ){
  return index;
} ) );

/*also returns last index (4) in the array*/
console.log( data.reduce( function( prev, curr, index, arr ){
  return index;
} ) );

/*returns array of all the objects*/
console.log( data.reduce( function( prev, curr, index, arr ){
  return arr;
} ) );

console.log( "" );
console.log( "~~ADDING IN REDUCE~~" );

/*this returns 5 arrays each with an object inside*/
console.log( data.reduce( function( prev, curr ){
  return prev + curr;
} ) );

var obj1 = {};
var obj2 = {};

console.log( obj1 );
/*this logs two arrays of objects*/
console.log( obj1 + obj2 );

/*in this case reduced is called on the data array. because the array holds 5 object literals 'prev' is where the result
 * is held is would probably be more appropriate to be called results or sum. if no second argument is passed to reduce
 * prev would start as the first object so adding anything to it will show object + other values. By adding an empty string
 * as a second argument, it is added to 'prev' as its first value*/
console.log( data.reduce( function( prev, curr ){
  return prev + curr.name + " ";
}, "" ) );

/*this case is similar to the one above with the difference being that numbers are being used. In this case an initial value
 * must be given in order for reduce to work properly. prev will have 0 as its initial value which curr.age values are added to it*/
console.log( data.reduce( function( prev, curr, index, arr ){
  console.log( prev );
  console.log( prev + " : " + curr.age );
  return prev + curr.age;
}, 0 ) );


console.log( data.filter( function( item ){
  return item.age > 35;
} ) );

console.log(data.filter( function( item ){
  return item.age > 35;
} ).reduce( function( sum, item ){
  return sum + item.age;
}, 0 ));

console.log( "" );
console.log( "U n d e r s c o r e  R e d u c e" );


/*in this case reduce takes an array as a parameter which the function filter is used to return an array of objects. this
 * array is then used with the second parameter of the reduce function which then adds up all ages above 35 and returns it
  * into var older35*/
var older35 = _.reduce( _.filter( data, function( item ){
  return item.age > 35;
} ), function( sum, item ){
  return sum + item.age;
}, 0 );

console.log( older35 );